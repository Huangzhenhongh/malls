(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b3fe2a12"],{1148:function(t,e,i){"use strict";var s=i("a691"),a=i("1d80");t.exports="".repeat||function(t){var e=String(a(this)),i="",n=s(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(i+=e);return i}},1734:function(t,e,i){"use strict";var s=i("ae8e"),a=i.n(s);a.a},"1a57":function(t,e,i){"use strict";var s=i("f336"),a=i.n(s);a.a},"408a":function(t,e,i){var s=i("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=s(t))throw TypeError("Incorrect invocation");return+t}},"42f0":function(t,e,i){},"49e5":function(t,e,i){"use strict";var s=i("5209"),a=i.n(s);a.a},5209:function(t,e,i){},"54f0":function(t,e,i){},"56f9":function(t,e,i){"use strict";var s=i("42f0"),a=i.n(s);a.a},5986:function(t,e,i){"use strict";var s=i("bfca"),a=i.n(s);a.a},"6ab7":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail"},[s("div",{staticClass:"detail-nav"},[s("div",{staticClass:"detail-img",on:{click:t.backclick}},[s("img",{staticClass:"auto-img",attrs:{src:i("7a74"),alt:""}})]),s("div",{staticClass:"detail-navitem"},t._l(t.title,(function(e,i){return s("div",{key:i,staticClass:"detail-active",class:{active:e.isActive},on:{click:function(s){return t.titleclick(e,i)}}},[t._v(t._s(e.name))])})),0)]),s("scroll",{ref:"scroll",staticClass:"content",attrs:{probetype:3},on:{slide:t.slide}},[s("detail-swiper",{attrs:{swiperimg:t.swiperimg}}),s("detailitem",{attrs:{goods:t.gooditem}}),s("shop-info",{attrs:{shopinfo:t.shopinfo}}),s("detail-image",{attrs:{detailInfo:t.detailInfo}}),s("detail-params",{ref:"params",attrs:{itemParams:t.itemParams}}),s("detail-pinlun",{ref:"pinluns",attrs:{pinlun:t.pinlun}}),s("good-list",{ref:"recommend",attrs:{goodlist:t.goods}})],1),s("back-top",{directives:[{name:"show",rawName:"v-show",value:t.ishas,expression:"ishas"}],nativeOn:{click:function(e){return t.backtop(e)}}}),s("detail-gwc",{attrs:{prop:t.prop,skugg:t.skugg,priceRange:t.priceRange,iid:t.iid,titles:t.titles}})],1)},a=[],n=i("6701"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 0!==Object.keys(t.swiperimg).length?i("div",{staticClass:"detailswiper"},[i("van-swipe",{staticClass:"swipe",attrs:{autoplay:3e3}},t._l(t.swiperimg,(function(e,s){return i("van-swipe-item",{key:s,on:{load:t.LoadImage}},[i("img",{staticClass:"auto-img",attrs:{src:e}})])})),1)],1):t._e()},r=[],c={props:{swiperimg:{type:Array,default:[]}},methods:{LoadImage:function(){this.$bus.$emit("LoadImage")}}},l=c,u=(i("c785"),i("2877")),d=Object(u["a"])(l,o,r,!1,null,"08301a20",null),f=d.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 0!==Object.keys(t.goods).length?i("div",{staticClass:"detailitem"},[i("div",{staticClass:"title"},[t._v(t._s(t.goods.title))]),i("div",{staticClass:"price"},[i("span",{staticClass:"realprice"},[t._v("￥"+t._s(t.goods.realPrice))]),i("span",{staticClass:"oldprice"},[t._v(t._s(t.goods.oldPrice))]),i("span",{staticClass:"discount"},[t._v(t._s(t.goods.discount))])]),i("div",{staticClass:"text"},t._l(t.goods.columns,(function(e,s){return i("span",{key:s,staticClass:"text-h"},[t._v(t._s(e))])})),0),i("div",{staticClass:"info-service"},t._l(t.goods.services.length-1,(function(e){return i("span",{key:e,staticClass:"info-service-item"},[i("img",{attrs:{src:t.goods.services[e-1].icon,alt:""}}),i("span",[t._v(t._s(t.goods.services[e-1].name))])])})),0)]):t._e()},h=[],p={props:{goods:{type:Object,default:{}}},data:function(){return{}}},v=p,g=(i("1734"),Object(u["a"])(v,m,h,!1,null,"b97e3422",null)),b=g.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 0!==Object.keys(t.shopinfo).length?i("div",{staticClass:"shopinfo"},[i("div",{staticClass:"imgs"},[i("div",{staticClass:"img"},[i("img",{staticClass:"auto-img",attrs:{src:t.shopinfo.shopLogo,alt:""}})]),i("div",{staticClass:"img-name"},[t._v(t._s(t.shopinfo.name))])]),i("div",{staticClass:"baby"},[i("div",{staticClass:"baby-left"},[i("div",[i("p",[t._v(t._s(t._f("mollion")(t.shopinfo.cSells)))]),i("p",[t._v("总销量")])]),i("div",[i("p",[t._v(t._s(t.shopinfo.cGoods))]),i("p",[t._v("全部宝贝")])])]),i("div",{staticClass:"shop-middle-item shop-middle-right"},[i("table",t._l(t.shopinfo.score,(function(e,s){return i("tr",{key:s},[i("td",[t._v(t._s(e.name))]),i("td",{staticClass:"score",class:{"score-better":e.isBetter}},[t._v(t._s(e.score))]),i("td",{staticClass:"better",class:{"better-more":e.isBetter}},[i("span",[t._v(t._s(e.isBetter?"高":"低"))])])])})),0)])]),i("div",{staticClass:"shop-bottom"},[t._v("进店逛逛")])]):t._e()},k=[],C=(i("b680"),{props:{shopinfo:{type:Object,default:{}}},filters:{mollion:function(t){return t<1e4?t:(t/1e4).toFixed(1)+"万"}}}),y=C,w=(i("56f9"),Object(u["a"])(y,_,k,!1,null,"db8586b0",null)),I=w.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 0!==Object.keys(t.detailInfo).length?i("div",{staticClass:"detailimage"},[i("div",{staticClass:"info-desc"},[i("div",{staticClass:"start fl"}),i("div",{staticClass:"desc"},[t._v(t._s(t.detailInfo.desc))]),i("div",{staticClass:"end fr"})]),i("div",{staticClass:"info-key"},[t._v(t._s(t.detailInfo.detailImage[0].key))]),i("div",{staticClass:"info-list"},t._l(t.detailInfo.detailImage[0].list,(function(e,s){return i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e,expression:"item"}],key:s,staticClass:"auto-img",attrs:{alt:""},on:{load:t.Detailimage}})})),0)]):t._e()},j=[],x={props:{detailInfo:{type:Object,default:{}}},methods:{Detailimage:function(){this.$bus.$emit("LoadImage")}}},$=x,S=(i("f5f0"),Object(u["a"])($,O,j,!1,null,"6796621a",null)),P=S.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 0!==Object.keys(t.itemParams).length?i("div",{staticClass:"itemParams"},[void 0!==t.itemParams.rule?i("div",t._l(t.itemParams.rule.tables,(function(e,s){return i("div",{key:s},[t._l(e,(function(e,s){return i("table",{key:s,staticClass:"info-size"},[i("tr",{staticClass:"tab"},t._l(e,(function(e,s){return i("td",{key:s,staticClass:"tab-o"},[t._v(t._s(e))])})),0)])})),i("table",{staticClass:"info-param"},t._l(t.itemParams.info.set,(function(e,s){return i("tr",{key:s,staticClass:"info-param1"},[i("td",{staticClass:"info-param-key"},[t._v(t._s(e.key))]),i("td",{staticClass:"param-value"},[t._v(t._s(e.value))])])})),0),t.itemParams.info.images?i("div",{staticClass:"info-img"},[i("img",{staticClass:"auto-img",attrs:{src:t.itemParams.info.images,alt:""}})]):t._e()],2)})),0):t._e()]):t._e()},A=[],Y={props:{itemParams:{type:Object,default:{}}},created:function(){}},D=Y,R=(i("49e5"),Object(u["a"])(D,E,A,!1,null,"dc8bcae0",null)),N=R.exports,T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[0!==Object.keys(t.pinlun).length?i("div",{staticClass:"comment-info"},[t._m(0),i("div",{staticClass:"info-user"},[i("img",{attrs:{src:t.pinlun.user.avatar,alt:""}}),i("span",[t._v(t._s(t.pinlun.user.uname))])]),i("div",{staticClass:"info-detail"},[i("p",[t._v(t._s(t.pinlun.content))]),i("div",{staticClass:"info-other"},[i("span",{staticClass:"date"},[t._v(t._s(t._f("showDate")(t.pinlun.created)))]),i("span",[t._v(t._s(t.pinlun.style))])]),i("div",{staticClass:"info-imgs"},t._l(t.pinlun.images,(function(t,e){return i("img",{key:e,staticClass:"auto-img",attrs:{src:t}})})),0)])]):t._e()])},F=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"info-header"},[i("div",{staticClass:"header-title"},[t._v("用户评价")]),i("div",{staticClass:"header-more"},[t._v(" 更多 ")])])}],L=i("90b9"),z={props:{pinlun:{type:Object,default:{}}},filters:{showDate:function(t){var e=new Date(1e3*t);return Object(L["b"])(e,"yyyy-MM-dd hh:mm:ss")}}},B=z,M=(i("e60c"),Object(u["a"])(B,T,F,!1,null,"7176710c",null)),U=M.exports,G=i("74bd"),K=i("0848"),q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detailgwc"},[i("van-goods-action",[i("van-goods-action-icon",{attrs:{icon:"cart-o",text:"购物车",badge:t.shopnum.length},on:{click:t.gocar}}),i("van-goods-action-icon",{attrs:{icon:"shop-o",text:"店铺"}}),i("van-goods-action-button",{attrs:{type:"warning",text:"加入购物车"},on:{click:t.gwc}}),i("van-goods-action-button",{attrs:{type:"danger",text:"立即购买"},on:{click:t.gm}})],1),i("van-sku",{attrs:{sku:t.sku,goods:t.goods},on:{"buy-clicked":t.onBuyClicked,"add-cart":t.onAddCartClicked},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)},J=[],W=(i("4160"),i("fb6a"),i("b0c0"),i("159b"),i("a4f5"),i("5fa4")),H=i("5530"),Q=i("2f62"),V=Object(Q["a"])("shopcart"),X=V.mapState,Z=V.mapMutations,tt={tree:[],list:[],price:"1.00",stock_num:227,collection_id:2261,none_sku:!1,hide_stock:!1},et={props:{prop:{type:Array,default:[]},skugg:{type:Array,default:[]},priceRange:{type:String,default:""},iid:{type:String,default:""},titles:{type:String,default:""}},data:function(){return{show:!1,sku:tt,goods:{picture:""},messageConfig:{},tree:"",img:""}},computed:Object(H["a"])({},X(["shopnum"])),methods:Object(H["a"])(Object(H["a"])({},Z(["getshopdata"])),{},{gwc:function(){var t=this,e=localStorage.getItem("_TNK");if(!e)return Object(W["a"])("请注册登录"),void setTimeout((function(){t.$router.push({name:"Register"})}),1e3);this.choosesku()},gm:function(){var t=this,e=localStorage.getItem("_TNK");if(!e)return Object(W["a"])("请注册登录"),void setTimeout((function(){t.$router.push({name:"Register"})}),1e3);this.choosesku()},gocar:function(){this.$router.push({name:"Car"})},choosesku:function(){var t=this;this.show=!0,this.sku.price=this.priceRange.slice(1);var e=[];this.prop.forEach((function(t,i){var s=[];t.list.forEach((function(t,e){t.styleId,s.push({id:t.name,name:t.name})})),e.push({k:t.label,k_s:"s"+i,v:s,largeImageMode:!0})}));for(var i=function(i){e.forEach((function(e,s){e.v.forEach((function(e,s){e.id==t.skugg[i].style&&(e.imgUrl=t.skugg[i].img,e.previewImgUrl=t.skugg[i].img)}))}))},s=0;s<this.skugg.length;s++)i(s);this.sku.tree=e,this.goods.picture=e[0].v[0].imgUrl;var a=[];this.skugg.forEach((function(t){a.push({id:t.stockId,s0:t.style,s1:t.size,price:t.nowprice,stock_num:t.stock})})),this.sku.list=a,this.tree=e},onAddCartClicked:function(t){for(var e=0;e<this.tree[0].v.length;e++)if(this.tree[0].v[e].name==t.selectedSkuComb.s0){this.img=this.tree[0].v[e].imgUrl;break}var i={};i.iid=this.iid,i.stockId=t.selectedSkuComb.id,i.price=t.selectedSkuComb.price/100,i.count=t.selectedNum,i.style=t.selectedSkuComb.s0,i.size=t.selectedSkuComb.s1,i.title=this.titles,i.img=this.img,this.getshopdata(i)},onBuyClicked:function(t){for(var e=0;e<this.tree[0].v.length;e++)if(this.tree[0].v[e].name==t.selectedSkuComb.s0){this.img=this.tree[0].v[e].imgUrl;break}var i={};i.iid=this.iid,i.stockId=t.selectedSkuComb.id,i.price=t.selectedSkuComb.price/100,i.count=t.selectedNum,i.style=t.selectedSkuComb.s0,i.size=t.selectedSkuComb.s1,i.title=this.titles,i.img=this.img,i.isActive=!0;var s=[];s.push(i),this.$router.push({name:"Gocar",query:{shopping:s}})}})},it=et,st=(i("5986"),Object(u["a"])(it,q,J,!1,null,"3c668128",null)),at=st.exports,nt=i("b050"),ot={name:"Detail",components:{DetailSwiper:f,Detailitem:b,ShopInfo:I,Scroll:n["a"],DetailImage:P,DetailParams:N,DetailPinlun:U,GoodList:G["a"],BackTop:K["a"],DetailGwc:at},data:function(){return{title:[{name:"商品",isActive:!0},{name:"参数",isActive:!1},{name:"评论",isActive:!1},{name:"推荐",isActive:!1}],swiperimg:[],gooditem:{},shopinfo:{},detailInfo:{},itemParams:{},pinlun:{},goods:[],themsaveY:[],getthemY:null,currentindex:0,ishas:!1,prop:[],skugg:[],priceRange:"",iid:"",titles:""}},created:function(){var t=this,e=this.$route.query.id;this.iid=e,Object(nt["d"])(e).then((function(e){var i=e.data.result;t.swiperimg=i.itemInfo.topImages,t.gooditem=new nt["a"](i.itemInfo,i.columns,i.shopInfo.services),t.shopinfo=i.shopInfo,t.detailInfo=i.detailInfo,t.itemParams=i.itemParams,0!==i.rate.cRate&&(t.pinlun=i.rate.list[0]),t.prop=i.skuInfo.props,t.skugg=i.skuInfo.skus,t.priceRange=i.skuInfo.priceRange,t.titles=i.skuInfo.title})).catch((function(t){})),Object(nt["e"])().then((function(e){t.goods=e.data.data.list})).catch((function(t){})),this.getthemY=Object(L["a"])((function(){try{t.themsaveY=[],t.themsaveY.push(0),t.themsaveY.push(t.$refs.params.$el.offsetTop),t.themsaveY.push(t.$refs.pinluns.$el.offsetTop),t.themsaveY.push(t.$refs.recommend.$el.offsetTop)}catch(e){}}),200)},mounted:function(){var t=this,e=Object(L["a"])(this.$refs.scroll.refresh,100);this.$bus.$on("LoadImage",(function(){e(),t.getthemY()}))},methods:{backtop:function(){this.$refs.scroll.scrolltop(0,0)},slide:function(t){var e=-t.y;this.ishas=-t.y>1e3;for(var i=this.themsaveY.length,s=0;s<i;s++)if(this.currentindex!==s&&(s<i-1&&e>=this.themsaveY[s]&&e<this.themsaveY[s+1]||s===i-1&&e>this.themsaveY[s])){this.currentindex=s;for(var a=0;a<this.title.length;a++)this.title[a].isActive=!1,this.currentindex==a&&(this.title[a].isActive=!0)}},titleclick:function(t,e){if(!t.isActive){for(var i=0;i<this.title.length;i++)if(this.title[i].isActive){this.title[i].isActive=!1;break}t.isActive=!0,this.$refs.scroll.scrolltop(0,-this.themsaveY[e],1e3)}},backclick:function(){this.$router.go(-1)}}},rt=ot,ct=(i("1a57"),Object(u["a"])(rt,s,a,!1,null,"5d16c654",null));e["default"]=ct.exports},"7a74":function(t,e,i){t.exports=i.p+"img/back.26df9036.svg"},"88ba":function(t,e,i){},ae8e:function(t,e,i){},b050:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"e",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"d",(function(){return c})),i.d(e,"f",(function(){return l})),i.d(e,"a",(function(){return u}));var s=i("d4ec"),a=i("e760");function n(){return Object(a["a"])({url:"/category"})}function o(){return Object(a["a"])({url:"/recommend"})}function r(t){return Object(a["a"])({url:"subcategory",params:{maitKey:t}})}function c(t){return Object(a["a"])({url:"detail",params:{iid:t}})}function l(t,e){return Object(a["a"])({url:"subcategory/detail",params:{type:t,miniWallkey:e}})}var u=function t(e,i,a){Object(s["a"])(this,t),this.title=e.title,this.desc=e.desc,this.newPrice=e.price,this.oldPrice=e.oldPrice,this.discount=e.discountDesc,this.columns=i,this.services=a,this.realPrice=e.lowNowPrice}},b680:function(t,e,i){"use strict";var s=i("23e7"),a=i("a691"),n=i("408a"),o=i("1148"),r=i("d039"),c=1..toFixed,l=Math.floor,u=function(t,e,i){return 0===e?i:e%2===1?u(t,e-1,i*t):u(t*t,e/2,i)},d=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},f=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r((function(){c.call({})}));s({target:"Number",proto:!0,forced:f},{toFixed:function(t){var e,i,s,r,c=n(this),f=a(t),m=[0,0,0,0,0,0],h="",p="0",v=function(t,e){var i=-1,s=e;while(++i<6)s+=t*m[i],m[i]=s%1e7,s=l(s/1e7)},g=function(t){var e=6,i=0;while(--e>=0)i+=m[e],m[e]=l(i/t),i=i%t*1e7},b=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==m[t]){var i=String(m[t]);e=""===e?i:e+o.call("0",7-i.length)+i}return e};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(h="-",c=-c),c>1e-21)if(e=d(c*u(2,69,1))-69,i=e<0?c*u(2,-e,1):c/u(2,e,1),i*=4503599627370496,e=52-e,e>0){v(0,i),s=f;while(s>=7)v(1e7,0),s-=7;v(u(10,s,1),0),s=e-1;while(s>=23)g(1<<23),s-=23;g(1<<s),v(1,1),g(2),p=b()}else v(0,i),v(1<<-e,0),p=b()+o.call("0",f);return f>0?(r=p.length,p=h+(r<=f?"0."+o.call("0",f-r)+p:p.slice(0,r-f)+"."+p.slice(r-f))):p=h+p,p}})},bfca:function(t,e,i){},c785:function(t,e,i){"use strict";var s=i("54f0"),a=i.n(s);a.a},d4ec:function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.d(e,"a",(function(){return s}))},e60c:function(t,e,i){"use strict";var s=i("88ba"),a=i.n(s);a.a},ee9f:function(t,e,i){},f336:function(t,e,i){},f5f0:function(t,e,i){"use strict";var s=i("ee9f"),a=i.n(s);a.a}}]);
//# sourceMappingURL=chunk-b3fe2a12.89793cf7.js.map