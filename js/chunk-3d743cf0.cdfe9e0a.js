(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d743cf0"],{"3dd6":function(t,a,e){},"52de":function(t,a,e){t.exports=e.p+"img/recommend_bg.794b6628.jpg"},"58f6":function(t,a,e){"use strict";var n=e("aba0"),o=e.n(n);o.a},"7f9e":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"tabcontrol"},t._l(t.titles,(function(a,n){return e("div",{key:n,staticClass:"tab-control",class:{active:n===t.currentindex},on:{click:function(a){return t.tabcontrol(n)}}},[e("span",[t._v(t._s(a))])])})),0)},o=[],s={name:"TabControl",props:{titles:{tyoe:Array,default:function(){return[]}}},data:function(){return{currentindex:0}},methods:{tabcontrol:function(t){this.currentindex=t,this.$emit("tabclick",this.currentindex)}}},i=s,r=(e("fc98"),e("2877")),c=Object(r["a"])(i,n,o,!1,null,"3689b740",null);a["a"]=c.exports},"857a":function(t,a,e){var n=e("1d80"),o=/"/g;t.exports=function(t,a,e,s){var i=String(n(t)),r="<"+a;return""!==e&&(r+=" "+e+'="'+String(s).replace(o,"&quot;")+'"'),r+">"+i+"</"+a+">"}},aba0:function(t,a,e){},af03:function(t,a,e){var n=e("d039");t.exports=function(t){return n((function(){var a=""[t]('"');return a!==a.toLowerCase()||a.split('"').length>3}))}},bb51:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"home",attrs:{id:"home"}},[n("van-search",{attrs:{disabled:"",placeholder:"zhenhong","input-align":"center"},model:{value:t.searchData,callback:function(a){t.searchData=a},expression:"searchData"}}),n("tab-control",{directives:[{name:"show",rawName:"v-show",value:t.fixed,expression:"fixed"}],ref:"tabcontrol1",staticClass:"tabcontrols aa",attrs:{titles:["流行","新款","精选"]},on:{tabclick:t.tabclick}}),n("scroll",{ref:"scroll",staticClass:"content",attrs:{probetype:3,pullupload:!0},on:{slide:t.slide,pullingup:t.loadmore}},[n("van-swipe",{attrs:{autoplay:3e3}},t._l(t.banners,(function(a,e){return n("van-swipe-item",{key:e},[n("img",{staticClass:"swipeimg",attrs:{src:a.image},on:{load:t.ImageLoad}})])})),1),n("van-grid",{attrs:{"column-num":4,border:!1,"icon-size":"56px"}},t._l(t.recommends,(function(t,a){return n("van-grid-item",{key:a,attrs:{icon:t.image,text:t.title}})})),1),n("div",{staticClass:"images"},[n("img",{staticClass:"auto-img",attrs:{src:e("52de"),alt:""}})]),n("tab-control",{ref:"tabcontrol2",staticClass:"tabcontrols",attrs:{titles:["流行","新款","精选"]},on:{tabclick:t.tabclick}}),n("good-list",{attrs:{goodlist:t.showgood}})],1),n("back-top",{directives:[{name:"show",rawName:"v-show",value:t.ishas,expression:"ishas"}],nativeOn:{click:function(a){return t.backtop(a)}}})],1)},o=[],s=(e("c7cd"),e("2909")),i=e("5530"),r=e("7f9e"),c=e("74bd"),l=e("0848"),u=e("6701"),d=e("90b9"),f=e("e760");function h(){return Object(f["a"])({url:"/home/multidata"})}function p(t,a){return Object(f["a"])({url:"/home/data",params:{type:t,page:a}})}var b=e("2f62"),g=Object(b["a"])("shopcart"),m=g.mapState,v=g.mapMutations,x={name:"Home",data:function(){return{searchData:"",banners:[],recommends:[],tabactive:0,goods:{pop:{page:0,list:[]},new:{page:0,list:[]},sell:{page:0,list:[]}},ishas:!1,taboffestop:0,isload:!1,fixed:!1}},computed:Object(i["a"])(Object(i["a"])({},m(["height","current"])),{},{showgood:function(){return this.goods[this.current].list}}),created:function(){this.gethomedata(),this.getgoodsdata("pop"),this.getgoodsdata("new"),this.getgoodsdata("sell"),this.$nextTick((function(){}))},deactivated:function(){},mounted:function(){var t=Object(d["a"])(this.$refs.scroll.refresh,100);this.$bus.$on("imageload",(function(){t()}))},components:{TabControl:r["a"],GoodList:c["a"],Scroll:u["a"],BackTop:l["a"]},methods:Object(i["a"])(Object(i["a"])({},v(["tab","Height"])),{},{ImageLoad:function(){this.isload||(this.offsetTop=this.$refs.tabcontrol2.$el.offsetTop,this.isload=!0)},tabclick:function(t){this.tab(t),this.$refs.tabcontrol1.currentindex=t,this.$refs.tabcontrol2.currentindex=t},backtop:function(){this.$refs.scroll.scrolltop(0,0)},slide:function(t){this.ishas=-t.y>1e3,this.Height(-t.y),this.fixed=-t.y>this.offsetTop},loadmore:function(){this.getgoodsdata(this.current)},gethomedata:function(){var t=this;h().then((function(a){t.banners=a.data.data.banner.list,t.recommends=a.data.data.recommend.list})).catch((function(t){}))},getgoodsdata:function(t){var a=this,e=this.goods[t].page+1;p(t,e).then((function(e){var n;(n=a.goods[t].list).push.apply(n,Object(s["a"])(e.data.data.list)),a.goods[t].page+=1,a.$refs.scroll.finishpullup()})).catch((function(t){}))}})},k=x,w=(e("58f6"),e("2877")),$=Object(w["a"])(k,n,o,!1,null,"57a00cd5",null);a["default"]=$.exports},c7cd:function(t,a,e){"use strict";var n=e("23e7"),o=e("857a"),s=e("af03");n({target:"String",proto:!0,forced:s("fixed")},{fixed:function(){return o(this,"tt","","")}})},fc98:function(t,a,e){"use strict";var n=e("3dd6"),o=e.n(n);o.a}}]);
//# sourceMappingURL=chunk-3d743cf0.cdfe9e0a.js.map